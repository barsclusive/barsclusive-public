<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BarSclusive Admin</title>
  <meta http-equiv="Content-Security-Policy"
        content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; connect-src https://script.google.com https://script.googleusercontent.com; img-src 'self' data:; frame-src 'none'; object-src 'none';">
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;background:#0a0a0a;color:#fff;min-height:100vh}
    #loginScreen{display:flex;align-items:center;justify-content:center;min-height:100vh;padding:20px}
    .login-box{background:#1a1a1a;border:1px solid #2a2a2a;border-radius:20px;padding:40px;max-width:400px;width:100%;text-align:center}
    .login-box h1{font-size:28px;margin-bottom:8px}
    .login-box p{color:#999;margin-bottom:30px;font-size:14px}
    .form-input{width:100%;padding:13px;background:#2a2a2a;border:1px solid #3a3a3a;border-radius:10px;color:#fff;font-size:15px;margin-bottom:14px}
    .btn-login{width:100%;background:#FF3366;color:#fff;border:none;padding:14px;border-radius:10px;font-size:16px;font-weight:700;cursor:pointer}
    .btn-login:hover{background:#FF1744}
    .btn-login:disabled{opacity:.5;cursor:not-allowed}
    .err-msg{color:#EF4444;font-size:13px;margin-bottom:12px;min-height:18px}
    #dashboard{display:none}
    .header{background:#111;padding:18px 24px;border-bottom:1px solid #1f1f1f;display:flex;justify-content:space-between;align-items:center;position:sticky;top:0;z-index:100;gap:12px}
    .header h1{font-size:18px;font-weight:700}
    .header-right{display:flex;align-items:center;gap:10px}
    .lang-btn{background:#2a2a2a;border:1px solid #3a3a3a;color:#aaa;padding:6px 12px;border-radius:8px;cursor:pointer;font-size:12px;font-weight:600}
    .lang-btn.active{color:#fff;border-color:#FF3366;background:#1a0a12}
    .btn-logout{background:#2a2a2a;border:1px solid #3a3a3a;color:#fff;padding:8px 18px;border-radius:10px;cursor:pointer;font-size:13px}
    .tabs{display:flex;gap:0;border-bottom:1px solid #222;padding:0 24px;background:#111;overflow-x:auto}
    .tab{padding:14px 18px;cursor:pointer;font-size:14px;font-weight:500;color:#888;border-bottom:2px solid transparent;white-space:nowrap;background:none;border-left:none;border-right:none;border-top:none}
    .tab.active{color:#fff;border-bottom-color:#FF3366}
    .tab-content{padding:24px;display:none}
    .tab-content.active{display:block}
    .stats-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:16px;margin-bottom:30px}
    .stat-card{background:#1a1a1a;border:1px solid #2a2a2a;border-radius:14px;padding:20px}
    .stat-label{font-size:12px;color:#999;margin-bottom:8px}
    .stat-value{font-size:26px;font-weight:700}
    table{width:100%;border-collapse:collapse;font-size:14px}
    th{text-align:left;padding:10px 12px;color:#999;border-bottom:1px solid #222;font-weight:500}
    td{padding:10px 12px;border-bottom:1px solid #1a1a1a;vertical-align:middle}
    tr:hover td{background:#111}
    .badge{display:inline-block;padding:3px 10px;border-radius:10px;font-size:11px;font-weight:600}
    .b-paid{background:#4CAF50;color:#fff}.b-pending{background:#FFC107;color:#000}
    .b-active{background:#2196F3;color:#fff}.b-inactive{background:#555;color:#fff}
    .btn-sm{padding:6px 14px;border-radius:8px;font-size:12px;font-weight:600;cursor:pointer;border:none}
    .btn-green{background:#4CAF50;color:#fff}.btn-red{background:#EF4444;color:#fff}
    .btn-blue{background:#2196F3;color:#fff}.btn-orange{background:#FF9800;color:#000}
    .btn-sm:hover{opacity:.85}
    .toast{position:fixed;bottom:24px;right:24px;padding:12px 20px;border-radius:10px;font-size:14px;font-weight:600;display:none;z-index:500;max-width:300px}
    .toast.show{display:block}
    .toast-ok{background:#4CAF50;color:#fff}.toast-err{background:#EF4444;color:#fff}
    .section-title{font-size:18px;font-weight:700;margin-bottom:18px}
    .no-data{color:#555;text-align:center;padding:40px;font-size:14px}
    .refund-row{background:#1a0a00!important}
    .overflow-x{overflow-x:auto}
    .comm-input{width:70px;padding:5px 8px;background:#2a2a2a;border:1px solid #3a3a3a;border-radius:6px;color:#fff;font-size:13px;text-align:center}
  </style>
</head>
<body>
<div id="toast" class="toast" role="alert"></div>

<!-- LOGIN -->
<div id="loginScreen">
  <div class="login-box">
    <h1>üîê Admin Login</h1>
    <p>BarSclusive Verwaltung</p>
    <div class="err-msg" id="loginErr" aria-live="polite"></div>
    <input type="password" class="form-input" id="adminPass" placeholder="Passwort" autocomplete="current-password">
    <button class="btn-login" id="btnLogin">Einloggen</button>
  </div>
</div>

<!-- DASHBOARD -->
<div id="dashboard">
  <div class="header">
    <h1 style="display:flex;align-items:center;gap:12px">
      <img src="logo.png" alt="BarSclusive" style="height:36px">
      <span>Admin</span>
    </h1>
    <div class="header-right">
      <button class="lang-btn active" id="langDE">DE</button>
      <button class="lang-btn" id="langEN">EN</button>
      <button class="btn-logout" id="btnLogout">Ausloggen</button>
    </div>
  </div>

  <div class="tabs">
    <button class="tab active" data-tab="orders">üì¶ Bestellungen</button>
    <button class="tab" data-tab="vouchers">üé´ Gutscheine</button>
    <button class="tab" data-tab="bars">üè™ Bars</button>
    <button class="tab" data-tab="deals">üéØ Deals</button>
    <button class="tab" data-tab="stats">üìä Statistik</button>
  </div>

  <div id="tabOrders" class="tab-content active">
    <div class="section-title">Bestellungen</div>
    <div class="overflow-x"><table><thead><tr>
      <th>Datum</th><th>Deal</th><th>Bar</th><th>K√§ufer</th><th>Preis</th><th>Status</th><th>R√ºckerstattung</th><th>Aktion</th>
    </tr></thead><tbody id="ordersBody"></tbody></table></div>
  </div>

  <div id="tabVouchers" class="tab-content">
    <div class="section-title">Gutscheine</div>
    <div class="overflow-x"><table><thead><tr>
      <th>Code</th><th>Deal</th><th>Bar</th><th>Preis</th><th>Provision</th><th>Auszahlung</th><th>Status</th><th>Aktion</th>
    </tr></thead><tbody id="vouchersBody"></tbody></table></div>
  </div>

  <div id="tabBars" class="tab-content">
    <div class="section-title">Bars verwalten</div>
    <div class="overflow-x"><table><thead><tr>
      <th>Name</th><th>Stadt</th><th>Email</th><th>Status</th><th>Deals</th><th>Provision %</th><th>Aktion</th>
    </tr></thead><tbody id="barsBody"></tbody></table></div>
  </div>

  <div id="tabDeals" class="tab-content">
    <div class="section-title">Alle Deals</div>
    <div class="overflow-x"><table><thead><tr>
      <th>Bar</th><th>Titel</th><th>Preis</th><th>Verkauft</th><th>Status</th><th>Aktion</th>
    </tr></thead><tbody id="dealsBody"></tbody></table></div>
  </div>

  <div id="tabStats" class="tab-content">
    <div class="section-title">Statistik</div>
    <div class="stats-grid" id="statsGrid"></div>
  </div>
</div>

<script src="admin-app.js"></script>
</body>
</html>
